{
  "sequence": [
    "opening",
    "tutorial",
    "child_play",
    "child_play",
    "child_play_short",
    "child_play_long",
    "child_play",
    "party"
  ],
  "opening": {
    "start": "tablet:zero_screen",
    "internal_clock": [
      "how_long:600"
    ],
    "transitions": [
      "tablet:zero_screen:child:zero_screen:1",
      "child:press_start_button:tablet:first_screen:1",
      "child:press_start_button:child:idle:1",
      "tablet:first_screen:robot:introduction:1:done",
      "robot:introduction:tablet:yes:1",
      "robot:introduction:robot:idle:1",
      "tablet:yes:child:yes:1",
      "tablet:yes:internal_clock:yes:1",
      "internal_clock:prompt_yes:robot:ask_again:1:done",
      "robot:ask_again:child:yes:1",
      "robot:ask_again:internal_clock:yes:1",
      "child:press_yes_button:internal_clock:stop:1",
      "child:press_yes_button:robot:lets_play:1",
      "robot:lets_play:internal_clock:stop:1",
      "robot:lets_play:interaction:end:1"
    ]
  },
  "tutorial": {
    "start": "robot:start_tutorial",
    "internal_clock": [
      "how_long:120"
    ],
    "transitions": [
      "robot:start_tutorial:game:generate_selection:1:done",
      "game:generate_selection:tablet:selection_screen:1:x",
      "tablet:selection_screen:robot:selection_tutorial:1:x",
      "tablet:selection_screen:tablet:disable_tablet:1",
      "robot:selection_tutorial:robot:select_treasure:1",
      "robot:select_treasure:tablet:select_treasure:1:x:done",
      "child:press_treasure:game:tangram_selected:1:x",
      "game:tangram_selected:tablet:tangram_screen:1:x",
      "tablet:tangram_screen:hourglass:start:1",
      "hourglass:update:tablet:hourglass_update:1:x",
      "hourglass:finish:game:finish:1",
      "hourglass:finish:hourglass:stop:1",
      "tablet:tangram_screen:robot:tangram_tutorial:1:x",
      "robot:tangram_tutorial:robot:select_move:1:x",
      "robot:select_move:robot:explain_move:1:x",
      "robot:explain_move:tablet:change_pieces:1:x:done",
      "child:tangram_change:game:tangram_changed:1:x:done",
      "game:not_solved:tablet:not_solved:1:x",
      "tablet:not_solved:robot:select_move:1:x",
      "game:solved:tablet:solved:1:x",
      "game:solved:hourglass:stop:1",
      "tablet:solved:robot:robot_win:1",
      "tablet:solved:tablet:idle:1",
      "game:finish:tablet:finish:1:x",
      "tablet:finish:robot:robot_lose:1",
      "robot:robot_win:interaction:end:1:done",
      "robot:robot_lose:interaction:end:1:done"
    ]
  },
  "child_play": {
    "start": "child:start_play",
    "hourglass": ["max_counter:120"],
    "transitions": [
      "child:start_play:game:generate_selection:1",
      "game:generate_selection:tablet:selection_screen:1:x",
      "tablet:selection_screen:tablet:disable_tablet:1",
      "tablet:selection_screen:robot:your_turn:1",
      "robot:your_turn:tablet:enable_tablet:1:done",
      "child:press_treasure:robot:child_selection:1:x",
      "child:press_treasure:game:tangram_selected:1:x",
      "game:tangram_selected:tablet:tangram_screen:1:x",
      "tablet:tangram_screen:robot:comment_selection:1",
      "tablet:tangram_screen:hourglass:start:1",
      "tablet:tangram_screen:tablet:enable_tablet:1",
      "hourglass:update:tablet:hourglass_update:1:x",
      "hourglass:finish:tablet:disable_tablet:1",
      "hourglass:finish:game:finish:1",
      "hourglass:finish:hourglass:stop:1",
      "child:tangram_change:game:tangram_changed:1:x",
      "game:not_solved:tablet:not_solved:1:x",
      "#game:not_solved:robot:comment_move:1",
      "game:solved:tablet:solved:1:x",
      "game:solved:hourglass:stop:1",
      "tablet:solved:robot:child_win:1",
      "tablet:solved:tablet:disable_tablet:1",
      "robot:child_win:robot:after_child_win:1:done",
      "game:finish:tablet:finish:1:x",
      "tablet:finish:robot:child_lose:1",
      "robot:child_lose:robot:after_child_lose:1:done",
      "robot:after_child_win:interaction:end:1:done",
      "robot:after_child_lose:interaction:end:1:done"
    ]
  },
  "child_play_short": {
    "start": "child:start_play",
    "hourglass": ["max_counter:30"],
    "transitions": [
      "child:start_play:game:generate_selection:1",
      "game:generate_selection:tablet:selection_screen:1:x",
      "tablet:selection_screen:tablet:disable_tablet:1",
      "tablet:selection_screen:robot:your_turn:1",
      "robot:your_turn:tablet:enable_tablet:1:done",
      "child:press_treasure:robot:child_selection:1:x",
      "child:press_treasure:game:tangram_selected:1:x",
      "game:tangram_selected:tablet:tangram_screen:1:x",
      "tablet:tangram_screen:robot:comment_selection:1",
      "tablet:tangram_screen:hourglass:start:1",
      "tablet:tangram_screen:tablet:enable_tablet:1",
      "hourglass:update:tablet:hourglass_update:1:x",
      "hourglass:finish:tablet:disable_tablet:1",
      "hourglass:finish:game:finish:1",
      "hourglass:finish:hourglass:stop:1",
      "child:tangram_change:game:tangram_changed:1:x",
      "game:not_solved:tablet:not_solved:1:x",
      "#game:not_solved:robot:comment_move:1",
      "game:solved:tablet:solved:1:x",
      "game:solved:hourglass:stop:1",
      "tablet:solved:robot:child_win:1",
      "tablet:solved:tablet:disable_tablet:1",
      "robot:child_win:robot:after_child_win:1:done",
      "game:finish:tablet:finish:1:x",
      "tablet:finish:robot:child_lose:1",
      "robot:child_lose:robot:after_child_lose:1:done",
      "robot:after_child_win:interaction:end:1:done",
      "robot:after_child_lose:interaction:end:1:done"
    ]
  },
  "child_play_long": {
    "start": "child:start_play",
    "hourglass": ["max_counter:180"],
    "transitions": [
      "child:start_play:game:generate_selection:1",
      "game:generate_selection:tablet:selection_screen:1:x",
      "tablet:selection_screen:tablet:disable_tablet:1",
      "tablet:selection_screen:robot:your_turn:1",
      "robot:your_turn:tablet:enable_tablet:1:done",
      "child:press_treasure:robot:child_selection:1:x",
      "child:press_treasure:game:tangram_selected:1:x",
      "game:tangram_selected:tablet:tangram_screen:1:x",
      "tablet:tangram_screen:robot:comment_selection:1",
      "tablet:tangram_screen:hourglass:start:1",
      "tablet:tangram_screen:tablet:enable_tablet:1",
      "hourglass:update:tablet:hourglass_update:1:x",
      "hourglass:finish:tablet:disable_tablet:1",
      "hourglass:finish:game:finish:1",
      "hourglass:finish:hourglass:stop:1",
      "child:tangram_change:game:tangram_changed:1:x",
      "game:not_solved:tablet:not_solved:1:x",
      "#game:not_solved:robot:comment_move:1",
      "game:solved:tablet:solved:1:x",
      "game:solved:hourglass:stop:1",
      "tablet:solved:robot:child_win:1",
      "tablet:solved:tablet:disable_tablet:1",
      "robot:child_win:robot:after_child_win:1:done",
      "game:finish:tablet:finish:1:x",
      "tablet:finish:robot:child_lose:1",
      "robot:child_lose:robot:after_child_lose:1:done",
      "robot:after_child_win:interaction:end:1:done",
      "robot:after_child_lose:interaction:end:1:done"
    ]
  },
  "robot_play": {
    "start": "robot:start_play",
    "hourglass" : ["max_counter:45"],
    "transitions": [
      "robot:start_play:game:generate_selection:1:done",
      "game:generate_selection:tablet:selection_screen:1:x",
      "tablet:selection_screen:robot:ask_question_robot_play:1:x",
      "robot:ask_question_robot_play:robot:my_turn:1:x",
      "tablet:selection_screen:tablet:disable_tablet:1",
      "robot:my_turn:robot:select_treasure:1",
      "robot:select_treasure:tablet:select_treasure:1:x:done",
      "child:press_treasure:game:tangram_selected:1:x",
      "game:tangram_selected:tablet:tangram_screen:1:x",
      "tablet:tangram_screen:hourglass:start:1",
      "hourglass:update:tablet:hourglass_update:1:x",
      "hourglass:finish:game:finish:1",
      "hourglass:finish:hourglass:stop:1",
      "tablet:tangram_screen:robot:select_move:1:x",
      "robot:select_move:robot:explain_move:1:x",
      "robot:explain_move:tablet:change_pieces:1:x:done",
      "child:tangram_change:game:tangram_changed:1:x",
      "game:not_solved:tablet:not_solved:1:x",
      "tablet:not_solved:robot:select_move:1:x:done",
      "game:solved:tablet:solved:1:x",
      "game:solved:hourglass:stop:1",
      "tablet:solved:robot:robot_win:1",
      "tablet:solved:tablet:disable_tablet:1",
      "game:finish:tablet:finish:1:x",
      "tablet:finish:robot:robot_lose:1",
      "robot:robot_win:interaction:end:1:done",
      "robot:robot_lose:interaction:end:1:done"
    ]
  },
  "child_play_challenge": {
    "start": "child:start_play",
    "hourglass": ["max_counter:60"],
    "transitions": [
      "child:start_play:game:generate_selection:1:mark",
      "game:generate_selection:tablet:selection_screen:1:x",
      "tablet:selection_screen:tablet:disable_tablet:1",
      "tablet:selection_screen:robot:your_turn:1",
      "robot:your_turn:tablet:enable_tablet:1:done",
      "child:press_treasure:robot:child_selection:1:x",
      "child:press_treasure:game:tangram_selected:1:x",
      "child:press_treasure:robot:child_selection:1:x",
      "child:press_treasure:game:tangram_selected:1:x",
      "game:tangram_selected:tablet:tangram_screen:1:x",
      "tablet:tangram_screen:hourglass:start:1",
      "hourglass:update:tablet:hourglass_update:1:x",
      "hourglass:finish:game:finish:1",
      "hourglass:finish:hourglass:stop:1",
      "child:tangram_change:game:tangram_changed:1:x",
      "game:not_solved:tablet:not_solved:1:x",
      "#game:not_solved:robot:comment_move:1",
      "game:solved:tablet:solved:1:x",
      "game:solved:hourglass:stop:1",
      "tablet:solved:robot:child_win:1",
      "tablet:solved:tablet:disable_tablet:1",
      "game:finish:tablet:finish:1:x",
      "tablet:finish:robot:child_lose:1",
      "robot:child_win:robot:after_child_win:1:done",
      "robot:child_lose:robot:after_child_lose:1:done",
      "robot:after_child_lose:interaction:end:1:done",
      "robot:after_child_win:interaction:end:1:done"
    ]
  },
  "child_play_grit": {
    "start": "child:start_play",
    "hourglass": [
      "max_counter: 300"
    ],
    "transitions": [
      "child:start_play:game:generate_selection:1:mark",
      "game:generate_selection:tablet:selection_screen:1:x",
      "tablet:selection_screen:tablet:disable_tablet:1",
      "tablet:selection_screen:robot:your_turn:1",
      "robot:your_turn:tablet:enable_tablet:1:done",
      "child:press_treasure:robot:child_selection:1:x",
      "child:press_treasure:game:tangram_selected:1:x",
      "child:press_treasure:robot:child_selection:1:x",
      "child:press_treasure:game:tangram_selected:1:x",
      "game:tangram_selected:tablet:tangram_screen:1:x",
      "tablet:tangram_screen:hourglass:start:1",
      "hourglass:update:tablet:hourglass_update:1:x",
      "hourglass:finish:game:finish:1",
      "hourglass:finish:hourglass:stop:1",
      "child:tangram_change:game:tangram_changed:1:x",
      "game:not_solved:tablet:not_solved:1:x",
      "game:solved:tablet:solved:1:x",
      "game:solved:hourglass:stop:1",
      "tablet:solved:robot:child_win:1",
      "tablet:solved:tablet:disable_tablet:1",
      "game:finish:tablet:finish:1:x",
      "tablet:finish:robot:child_lose:1",
      "robot:child_win:robot:after_child_win:1:done",
      "robot:child_lose:robot:after_child_lose:1:done",
      "robot:after_child_lose:interaction:end:1:done",
      "robot:after_child_win:interaction:end:1:done"
    ]
  },
  "party": {
    "start": "robot:start_party",
    "internal_clock": [
      "how_long:20"
    ],
    "transitions": [
      "robot:start_party:tablet:party_screen:1:done",
      "tablet:party_screen:robot:conclusion:1",
      "robot:conclusion:robot:ask_question_party:1",
      "robot:ask_question_party:robot:party:1",
      "robot:party:robot:end_party:1",
      "robot:end_party:interaction:end:1"
    ]
  },
  "backup_child_play": {
    "start": "child:start_play",
    "hourglass": ["max_counter:120"],
    "transitions": [
      "child:start_play:game:generate_selection:1",
      "game:generate_selection:tablet:selection_screen:1:x",
      "tablet:selection_screen:tablet:disable_tablet:1",
      "tablet:selection_screen:robot:your_turn:1",
      "robot:your_turn:tablet:enable_tablet:1:done",
      "child:press_treasure:robot:child_selection:1:x",
      "child:press_treasure:game:tangram_selected:1:x",
      "game:tangram_selected:tablet:tangram_screen:1:x",
      "tablet:tangram_screen:robot:comment_selection:1",
      "tablet:tangram_screen:hourglass:start:1",
      "hourglass:update:tablet:hourglass_update:1:x",
      "hourglass:finish:game:finish:1",
      "hourglass:finish:hourglass:stop:1",
      "hourglass:finish:tablet:disable_tablet:1",
      "child:tangram_change:game:tangram_changed:1:x",
      "game:not_solved:tablet:not_solved:1:x",
      "#game:not_solved:robot:comment_move:1",
      "game:solved:tablet:solved:1:x",
      "game:solved:hourglass:stop:1",
      "tablet:solved:robot:child_win:1",
      "robot:child_win:robot:after_child_win:1:done",
      "game:finish:tablet:finish:1:x",
      "tablet:finish:robot:child_lose:1",
      "robot:child_lose:robot:after_child_lose:1:done",
      "robot:after_child_win:interaction:end:1:done",
      "robot:after_child_lose:interaction:end:1:done"
    ]
  }
}